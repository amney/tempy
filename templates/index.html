<!doctype>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='rickshaw.min.css') }}">
<script src="{{ url_for('static', filename='vendor/d3.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/d3.layout.min.js') }}"></script>
<script src="{{ url_for('static', filename='rickshaw.js') }}"></script>

<div id="chart"></div>

<script>

    var data = {{ l|tojson|safe }};

    {#    var unit = {};#}
    {#    unit.formatTime = function (d) {#}
    {#        return d.toUTCString().match(/(\d+:\d+):/)[1];#}
    {#    };#}
    {#    unit.formatter = function (d) {#}
    {#        return this.formatTime(d)#}
    {#    };#}
    {#    unit.name = "30 seconds";#}
    {#    unit.seconds = 30;#}

    var graph = new Rickshaw.Graph({
        element: document.querySelector("#chart"),
        width: 580,
        height: 250,
        series: [
            {
                color: 'steelblue',
                data: data
            }
        ]
    });

    var axes = new Rickshaw.Graph.Axis.Time({ graph: graph,
        {#        timeUnit: unit,#}
        {#        timeFixture: new Rickshaw.Fixtures.Time.Local()#}
    });

    graph.render();

</script>